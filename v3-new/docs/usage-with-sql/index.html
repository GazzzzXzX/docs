<!DOCTYPE html>
<html lang="en" data-theme="">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<script type="text/javascript">/*<![CDATA[*/window.__chunkMapping={"main":["/docs/v3-new/main.793cb434c091c1734636.css","/docs/v3-new/main.26dd6f9550a16264f5a7.js"],"component---site-src-pages-index-jsc-4-f-f99":["/docs/v3-new/component---site-src-pages-index-jsc-4-f-f99.9f99729bff7f082bd679.css","/docs/v3-new/component---site-src-pages-index-jsc-4-f-f99.6064828857a203b5f626.js"],"component---theme-blog-post-pageccc-cab":["/docs/v3-new/component---theme-blog-post-pageccc-cab.42d18faa279882580cbb.css","/docs/v3-new/component---theme-blog-post-pageccc-cab.c8932e37fadee032058f.js"],"content---v-3-new-blog-handling-transactions-and-concurrency-in-mikroorm-9-b-1-68b":["/docs/v3-new/content---v-3-new-blog-handling-transactions-and-concurrency-in-mikroorm-9-b-1-68b.4685a455e312330cabbc.js"],"metadata---v-3-new-blog-handling-transactions-and-concurrency-in-mikroorm-051-a7e":["/docs/v3-new/metadata---v-3-new-blog-handling-transactions-and-concurrency-in-mikroorm-051-a7e.0396c47407c744c32387.js"],"nextItem---v-3-new-blog-handling-transactions-and-concurrency-in-mikroorm-866-6b4":["/docs/v3-new/nextItem---v-3-new-blog-handling-transactions-and-concurrency-in-mikroorm-866-6b4.1830455a05011e1f9c73.js"],"content---v-3-new-blog-introducing-mikroorm-typescript-data-mapper-orm-with-identity-mapf-49-9fa":["/docs/v3-new/content---v-3-new-blog-introducing-mikroorm-typescript-data-mapper-orm-with-identity-mapf-49-9fa.ea466ac487cc46d31673.js"],"component---theme-blog-list-pagea-6-a-7ba":["/docs/v3-new/component---theme-blog-list-pagea-6-a-7ba.42d18faa279882580cbb.css","/docs/v3-new/component---theme-blog-list-pagea-6-a-7ba.c729938cf569281f796e.js"],"content---v-3-new-bloge-7-c-882":["/docs/v3-new/content---v-3-new-bloge-7-c-882.458065b8057487ca974f.js"],"content---v-3-new-blog-316-9d2":["/docs/v3-new/content---v-3-new-blog-316-9d2.708b82b15f823c2f8438.js"],"metadata---v-3-new-bloge-85-503":["/docs/v3-new/metadata---v-3-new-bloge-85-503.3e65b9e9e8b911423fc9.js"],"component---theme-doc-page-1-be-9be":["/docs/v3-new/component---theme-doc-page-1-be-9be.a7dc664af81736e8f518.css","/docs/v3-new/component---theme-doc-page-1-be-9be.d3bc93f077e7a2f8d173.js"],"docsMetadata---v-3-new-docs-988-80a":["/docs/v3-new/docsMetadata---v-3-new-docs-988-80a.a30ed25232e4920e6fec.js"],"component---theme-doc-item-178-a40":["/docs/v3-new/component---theme-doc-item-178-a40.de2648345892298aff25.css","/docs/v3-new/component---theme-doc-item-178-a40.75f4842c571107d99831.js"],"content---v-3-new-docs-cascadinga-12-311":["/docs/v3-new/content---v-3-new-docs-cascadinga-12-311.9ca9c531a5d9cfc23e1e.js"],"metadata---v-3-new-docs-cascadingce-0-3b0":["/docs/v3-new/metadata---v-3-new-docs-cascadingce-0-3b0.6aa81aa2acc27536d221.js"],"content---v-3-new-docs-collections-22-d-26b":["/docs/v3-new/content---v-3-new-docs-collections-22-d-26b.ce1c82aae93396150f17.js"],"metadata---v-3-new-docs-collectionsa-6-c-f79":["/docs/v3-new/metadata---v-3-new-docs-collectionsa-6-c-f79.bb32067976b6afc5593c.js"],"content---v-3-new-docs-debugging-2-bc-e9a":["/docs/v3-new/content---v-3-new-docs-debugging-2-bc-e9a.99c47f2818dff498b69c.js"],"metadata---v-3-new-docs-debuggingb-3-e-ca1":["/docs/v3-new/metadata---v-3-new-docs-debuggingb-3-e-ca1.a69bf70884979409deaa.js"],"content---v-3-new-docs-custom-driverd-74-3f1":["/docs/v3-new/content---v-3-new-docs-custom-driverd-74-3f1.49e6013f13bc2e677d47.js"],"metadata---v-3-new-docs-custom-driverc-52-55e":["/docs/v3-new/metadata---v-3-new-docs-custom-driverc-52-55e.5c3ecdabe20bc4fcfa6d.js"],"content---v-3-new-docs-deploymenta-37-e55":["/docs/v3-new/content---v-3-new-docs-deploymenta-37-e55.c4f0c7e70e2264069fe6.js"],"metadata---v-3-new-docs-deployment-87-f-f4e":["/docs/v3-new/metadata---v-3-new-docs-deployment-87-f-f4e.a5789209685451fc3d18.js"],"content---v-3-new-docs-defining-entitiesfb-6-d0f":["/docs/v3-new/content---v-3-new-docs-defining-entitiesfb-6-d0f.13e3f4f256ffa77b75b5.js"],"metadata---v-3-new-docs-defining-entities-9-b-5-c7a":["/docs/v3-new/metadata---v-3-new-docs-defining-entities-9-b-5-c7a.609651ec47fbe833b57e.js"],"content---v-3-new-docs-entity-constructors-18-f-b4b":["/docs/v3-new/content---v-3-new-docs-entity-constructors-18-f-b4b.4ce00ddf121b05c6194d.js"],"metadata---v-3-new-docs-entity-constructors-97-d-f60":["/docs/v3-new/metadata---v-3-new-docs-entity-constructors-97-d-f60.863f2e301697df4f416f.js"],"content---v-3-new-docs-entity-generator-29-b-a00":["/docs/v3-new/content---v-3-new-docs-entity-generator-29-b-a00.43f32cdc00d8a2186a15.js"],"metadata---v-3-new-docs-entity-generator-957-63c":["/docs/v3-new/metadata---v-3-new-docs-entity-generator-957-63c.f52ade37b4103a33c775.js"],"content---v-3-new-docs-entity-helper-7-b-9-fc9":["/docs/v3-new/content---v-3-new-docs-entity-helper-7-b-9-fc9.461c433998f83beb7ec6.js"],"metadata---v-3-new-docs-entity-helper-147-667":["/docs/v3-new/metadata---v-3-new-docs-entity-helper-147-667.0eb92644198a87db6f0d.js"],"content---v-3-new-docs-entity-manager-51-d-7a0":["/docs/v3-new/content---v-3-new-docs-entity-manager-51-d-7a0.904fcf572126dd85a66e.js"],"metadata---v-3-new-docs-entity-manager-178-be9":["/docs/v3-new/metadata---v-3-new-docs-entity-manager-178-be9.6112a581816a6bdd1445.js"],"content---v-3-new-docs-identity-map-623-510":["/docs/v3-new/content---v-3-new-docs-identity-map-623-510.31a704264e90815b81e1.js"],"metadata---v-3-new-docs-identity-mapa-5-f-8d0":["/docs/v3-new/metadata---v-3-new-docs-identity-mapa-5-f-8d0.d078ae64bea53873a057.js"],"content---v-3-new-docs-entity-references-79-b-77c":["/docs/v3-new/content---v-3-new-docs-entity-references-79-b-77c.d679999c173530da9fa9.js"],"metadata---v-3-new-docs-entity-references-83-d-749":["/docs/v3-new/metadata---v-3-new-docs-entity-references-83-d-749.64f0d35c1ee38f3dcd69.js"],"content---v-3-new-docs-indexc-37-10a":["/docs/v3-new/content---v-3-new-docs-indexc-37-10a.619e83350b6f35e56963.js"],"metadata---v-3-new-docs-index-90-a-05c":["/docs/v3-new/metadata---v-3-new-docs-index-90-a-05c.1fa9c99f39a2566038e1.js"],"content---v-3-new-docs-lifecycle-hooksc-72-599":["/docs/v3-new/content---v-3-new-docs-lifecycle-hooksc-72-599.ed51af9abd6d6853bce3.js"],"metadata---v-3-new-docs-lifecycle-hooks-434-d5c":["/docs/v3-new/metadata---v-3-new-docs-lifecycle-hooks-434-d5c.082eaf4132d35a1b916b.js"],"content---v-3-new-docs-installation-3-b-8-582":["/docs/v3-new/content---v-3-new-docs-installation-3-b-8-582.4c09a8f297b1c54afa60.js"],"metadata---v-3-new-docs-installationdf-8-f58":["/docs/v3-new/metadata---v-3-new-docs-installationdf-8-f58.cf6df888641a45f83c59.js"],"content---v-3-new-docs-metadata-cache-081-342":["/docs/v3-new/content---v-3-new-docs-metadata-cache-081-342.8ba36ba72f34135f839a.js"],"metadata---v-3-new-docs-metadata-cacheafe-560":["/docs/v3-new/metadata---v-3-new-docs-metadata-cacheafe-560.d9fdf88aaa66ec2c0df7.js"],"content---v-3-new-docs-migrationsd-04-7b0":["/docs/v3-new/content---v-3-new-docs-migrationsd-04-7b0.9805c8ee45657180d6b6.js"],"metadata---v-3-new-docs-migrations-8-c-4-0c8":["/docs/v3-new/metadata---v-3-new-docs-migrations-8-c-4-0c8.58215d957a13a95bce9a.js"],"content---v-3-new-docs-naming-strategycd-7-ba8":["/docs/v3-new/content---v-3-new-docs-naming-strategycd-7-ba8.3e02f9f3e1bb399bab02.js"],"metadata---v-3-new-docs-naming-strategyab-4-f45":["/docs/v3-new/metadata---v-3-new-docs-naming-strategyab-4-f45.58a2b40e359b3e469ece.js"],"content---v-3-new-docs-multiple-schemas-3-a-3-8e5":["/docs/v3-new/content---v-3-new-docs-multiple-schemas-3-a-3-8e5.b2602d62ac4db70445d8.js"],"metadata---v-3-new-docs-multiple-schemas-721-622":["/docs/v3-new/metadata---v-3-new-docs-multiple-schemas-721-622.b20ad086f078b54d94ca.js"],"content---v-3-new-docs-nested-populatea-1-d-590":["/docs/v3-new/content---v-3-new-docs-nested-populatea-1-d-590.1396a610e0e0714a5c00.js"],"metadata---v-3-new-docs-nested-populate-781-d54":["/docs/v3-new/metadata---v-3-new-docs-nested-populate-781-d54.fd31bf1fedab3004a99d.js"],"content---v-3-new-docs-query-builder-4-fe-8a7":["/docs/v3-new/content---v-3-new-docs-query-builder-4-fe-8a7.12d3cdcf5c133383c7a1.js"],"metadata---v-3-new-docs-query-builderdac-d4d":["/docs/v3-new/metadata---v-3-new-docs-query-builderdac-d4d.418858fb621cd90d2eaf.js"],"content---v-3-new-docs-property-validation-282-146":["/docs/v3-new/content---v-3-new-docs-property-validation-282-146.1d3628c498fcf05b2f45.js"],"metadata---v-3-new-docs-property-validationd-93-688":["/docs/v3-new/metadata---v-3-new-docs-property-validationd-93-688.3848b31b81d16d47c36a.js"],"content---v-3-new-docs-query-conditions-523-972":["/docs/v3-new/content---v-3-new-docs-query-conditions-523-972.6e6367a11bcd7d8f6c2d.js"],"metadata---v-3-new-docs-query-conditionsbec-242":["/docs/v3-new/metadata---v-3-new-docs-query-conditionsbec-242.0e0eb311c79225607344.js"],"content---v-3-new-docs-read-connections-7-c-6-18f":["/docs/v3-new/content---v-3-new-docs-read-connections-7-c-6-18f.3527754efa69cf8219ad.js"],"metadata---v-3-new-docs-read-connections-880-52e":["/docs/v3-new/metadata---v-3-new-docs-read-connections-880-52e.e117b11a2f6615d9eb41.js"],"content---v-3-new-docs-relationshipsec-5-70e":["/docs/v3-new/content---v-3-new-docs-relationshipsec-5-70e.76b81da813a7bb4880f8.js"],"metadata---v-3-new-docs-relationships-54-d-d17":["/docs/v3-new/metadata---v-3-new-docs-relationships-54-d-d17.846fab91c3df0360a4b8.js"],"content---v-3-new-docs-repositories-3-ec-f84":["/docs/v3-new/content---v-3-new-docs-repositories-3-ec-f84.500f51f82d9d73aff8bb.js"],"metadata---v-3-new-docs-repositoriesaca-a1e":["/docs/v3-new/metadata---v-3-new-docs-repositoriesaca-a1e.a11fba3ddcf57f81f892.js"],"content---v-3-new-docs-schema-generator-4-f-4-ede":["/docs/v3-new/content---v-3-new-docs-schema-generator-4-f-4-ede.c50bcb750c91a32b6b66.js"],"metadata---v-3-new-docs-schema-generatorcb-7-fbd":["/docs/v3-new/metadata---v-3-new-docs-schema-generatorcb-7-fbd.c348ca57b11daafcb98c.js"],"content---v-3-new-docs-serializing-460-27d":["/docs/v3-new/content---v-3-new-docs-serializing-460-27d.ed798dfe9dc8f23d85cb.js"],"metadata---v-3-new-docs-serializing-24-b-d56":["/docs/v3-new/metadata---v-3-new-docs-serializing-24-b-d56.d839348de87fe58ca17d.js"],"content---v-3-new-docs-transactions-2-ec-56d":["/docs/v3-new/content---v-3-new-docs-transactions-2-ec-56d.2580291fe8ca1be3124c.js"],"metadata---v-3-new-docs-transactionsd-0-a-1a2":["/docs/v3-new/metadata---v-3-new-docs-transactionsd-0-a-1a2.fd0cf8f6ea39e5b93453.js"],"content---v-3-new-docs-upgrading-v-2-to-v-33-bf-264":["/docs/v3-new/content---v-3-new-docs-upgrading-v-2-to-v-33-bf-264.f9a414105e3b8342fb4d.js"],"metadata---v-3-new-docs-upgrading-v-2-to-v-3-bb-2-ab9":["/docs/v3-new/metadata---v-3-new-docs-upgrading-v-2-to-v-3-bb-2-ab9.6a8816928432d6318759.js"],"content---v-3-new-docs-unit-of-work-24-a-b0d":["/docs/v3-new/content---v-3-new-docs-unit-of-work-24-a-b0d.561d13d501d770484593.js"],"metadata---v-3-new-docs-unit-of-worka-89-387":["/docs/v3-new/metadata---v-3-new-docs-unit-of-worka-89-387.57ad2e7d97ae78f432ef.js"],"content---v-3-new-docs-usage-with-js-253-8af":["/docs/v3-new/content---v-3-new-docs-usage-with-js-253-8af.5e9ff6c74849bcabc641.js"],"metadata---v-3-new-docs-usage-with-jsbbe-2cc":["/docs/v3-new/metadata---v-3-new-docs-usage-with-jsbbe-2cc.2f39ccb0c21049ad23d4.js"],"content---v-3-new-docs-usage-with-mongo-563-c79":["/docs/v3-new/content---v-3-new-docs-usage-with-mongo-563-c79.dc963b895cc4613c3213.js"],"metadata---v-3-new-docs-usage-with-mongo-6-d-9-c90":["/docs/v3-new/metadata---v-3-new-docs-usage-with-mongo-6-d-9-c90.6f17d6d7dc11df759770.js"],"content---v-3-new-docs-usage-with-nestjsdf-7-676":["/docs/v3-new/content---v-3-new-docs-usage-with-nestjsdf-7-676.b95cba1e13e92f2dc137.js"],"metadata---v-3-new-docs-usage-with-nestjsf-64-d12":["/docs/v3-new/metadata---v-3-new-docs-usage-with-nestjsf-64-d12.537e5b216a87dd2f5c0f.js"],"content---v-3-new-docs-usage-with-sql-815-a4d":["/docs/v3-new/content---v-3-new-docs-usage-with-sql-815-a4d.c1cf51e51db141fc1536.js"],"metadata---v-3-new-docs-usage-with-sqlcc-4-f9e":["/docs/v3-new/metadata---v-3-new-docs-usage-with-sqlcc-4-f9e.1b547ce607c21b164bff.js"],"component---theme-blog-tags-posts-page-687-b6c":["/docs/v3-new/component---theme-blog-tags-posts-page-687-b6c.42d18faa279882580cbb.css","/docs/v3-new/component---theme-blog-tags-posts-page-687-b6c.fb285268d119390786e0.js"],"metadata---v-3-new-blog-tags-typescript-460-e1c":["/docs/v3-new/metadata---v-3-new-blog-tags-typescript-460-e1c.bd0d386a200978c73bb2.js"],"metadata---v-3-new-blog-tags-nodee-08-359":["/docs/v3-new/metadata---v-3-new-blog-tags-nodee-08-359.4c566e74a4bf7e84cc9c.js"],"metadata---v-3-new-blog-tags-javascriptfbb-45a":["/docs/v3-new/metadata---v-3-new-blog-tags-javascriptfbb-45a.72f4abe4e407e8fa780e.js"],"metadata---v-3-new-blog-tags-oop-925-509":["/docs/v3-new/metadata---v-3-new-blog-tags-oop-925-509.b240df5caaa3f1583792.js"],"metadata---v-3-new-blog-tags-sqlada-e6a":["/docs/v3-new/metadata---v-3-new-blog-tags-sqlada-e6a.adfdac95bf0e87c66efe.js"],"component---theme-blog-tags-list-page-01-a-d0b":["/docs/v3-new/component---theme-blog-tags-list-page-01-a-d0b.b0765e2572e903c4a57f.js"],"tags---v-3-new-blog-tags-2-b-9-d94":["/docs/v3-new/tags---v-3-new-blog-tags-2-b-9-d94.94d449203492109b9580.js"]};/*]]>*/</script>

<title data-react-helmet="true">Usage with MySQL, MariaDB, PostgreSQL or SQLite</title>

<meta data-react-helmet="true" charset="utf-8"/><meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"/><meta data-react-helmet="true" name="viewport" content="width=device-width"/><meta data-react-helmet="true" property="og:title" content="MikroORM · TypeScript ORM for Node.js based on Data Mapper, Unit of Work and Identity Map patterns."/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="description" content="To use `mikro-orm` with MySQL database, do not forget to install `mysql2` dependency and set "/><meta data-react-helmet="true" property="og:description" content="To use `mikro-orm` with MySQL database, do not forget to install `mysql2` dependency and set "/><meta data-react-helmet="true" property="og:url" content="https://mikro-orm.github.io/docs/v3-new//docs/v3-new/docs/usage-with-sql"/>

<link data-react-helmet="true" rel="shortcut icon" href="/docs/v3-new/img/favicon.ico"/>


<link rel="stylesheet" type="text/css" href="/docs/v3-new/main.793cb434c091c1734636.css" />

<link rel="stylesheet" type="text/css" href="/docs/v3-new/0.753b91118bbb7ba96e3c.css" />

<link rel="stylesheet" type="text/css" href="/docs/v3-new/1.c1a127e4736922edeb2a.css" />

<link rel="stylesheet" type="text/css" href="/docs/v3-new/component---theme-doc-page-1-be-9be.a7dc664af81736e8f518.css" />

<link rel="stylesheet" type="text/css" href="/docs/v3-new/component---theme-doc-item-178-a40.de2648345892298aff25.css" />

</head>
<body >
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/docs/v3-new/"><img class="navbar__logo" src="/docs/v3-new/img/logo.svg" alt="MikroORM"/><strong class=""></strong></a><a class="navbar__item navbar__link" label="Docs" position="left" href="/docs/v3-new/docs/installation">Docs</a><a class="navbar__item navbar__link" label="Blog" position="left" href="/docs/v3-new/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="https://github.com/mikro-orm/mikro-orm" label="GitHub" position="right" target="_blank" rel="noopener noreferrer">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_16vC moon_1N64"></span></div><div class="react-toggle-track-x"><span class="toggle_16vC sun_3CZP"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"/></div></div></div><div role="presentation" class="navbar__sidebar__backdrop"></div><div class="navbar__sidebar"><div class="navbar__sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/docs/v3-new/"><img class="navbar__logo" src="/docs/v3-new/img/logo.svg" alt="MikroORM"/><strong></strong></a></div><div class="navbar__sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" label="Docs" position="left" href="/docs/v3-new/docs/installation">Docs</a></li><li class="menu__list-item"><a class="menu__link" label="Blog" position="left" href="/docs/v3-new/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="https://github.com/mikro-orm/mikro-orm" label="GitHub" position="right" target="_blank" rel="noopener noreferrer">GitHub</a></li></ul></div></div></div></nav><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Overview</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/installation">Installation &amp; Usage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/defining-entities">Defining Entities</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/relationships">Modeling Entity Relationships</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/entity-manager">Entity Manager</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/repositories">Entity Repository</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Fundamentals</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/identity-map">Identity Map and Request Context</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/entity-references">Entity References and Reference&lt;T&gt; Wrapper</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/entity-constructors">Using Entity Constructors</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/collections">Collections</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/unit-of-work">Unit of Work</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/transactions">Transactions and Concurrency</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/cascading">Cascading</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/deployment">Deployment</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Advanced Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/nested-populate">Smart Nested Populate</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/query-conditions">Smart Query Conditions</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/query-builder">Using Query Builder</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/serializing">Serializing</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/entity-helper">Updating Entity Values</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/property-validation">Property Validation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/lifecycle-hooks">Lifecycle Hooks</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/naming-strategy">Naming Strategy</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/metadata-cache">Metadata Cache</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/debugging">Debugging</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/schema-generator">Schema Generator</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/entity-generator">Entity Generator</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/migrations">Migrations</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/read-connections">Read Replica Connections</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Usage with Different Drivers</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/v3-new/docs/usage-with-sql">Usage with SQL Drivers</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/usage-with-mongo">Usage with MongoDB</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Recipes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/usage-with-nestjs">Usage with NestJS</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/usage-with-js">Usage with Vanilla JS</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/custom-driver">Creating Custom Driver</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v3-new/docs/multiple-schemas">Using Multiple Schemas</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Example Integrations</a><ul class="menu__list"><li class="menu__list-item"><a activeClassName="menu__link--active" class="menu__link" to="https://github.com/mikro-orm/mikro-orm-examples/tree/master/express-ts" href="https://github.com/mikro-orm/mikro-orm-examples/tree/master/express-ts">Express + MongoDB + TypeScript</a></li><li class="menu__list-item"><a activeClassName="menu__link--active" class="menu__link" to="https://github.com/mikro-orm/mikro-orm-examples/tree/master/nest" href="https://github.com/mikro-orm/mikro-orm-examples/tree/master/nest">Nest + MySQL + TypeScript</a></li><li class="menu__list-item"><a activeClassName="menu__link--active" class="menu__link" to="https://github.com/mikro-orm/mikro-orm-examples/tree/master/express-js" href="https://github.com/mikro-orm/mikro-orm-examples/tree/master/express-js">Express + MongoDB + JavaScript</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col"><div class="docItemContainer_2cwg"><header><h1 class="docTitle_1vWb">Usage with MySQL, MariaDB, PostgreSQL or SQLite</h1></header><article><div class="markdown"><p>To use <code>mikro-orm</code> with MySQL database, do not forget to install <code>mysql2</code> dependency and set
the type option to <code>mysql</code> when initializing ORM.</p><p>Similarly for SQLite install <code>sqlite</code> dependency and provide <code>sqlite</code> database type. For
PostgreSQL install <code>pg</code> and provide <code>postgresql</code> type.</p><p>Then call <code>MikroORM.init</code> as part of bootstrapping your app:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> orm </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> </span><span class="token maybe-class-name">MikroORM</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">init</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  entitiesDirs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;entities&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// relative to `baseDir`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  dbName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;my-db-name&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;mysql&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// or &#x27;sqlite&#x27; or &#x27;postgresql&#x27; or &#x27;mariadb&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h2><a aria-hidden="true" class="anchor" id="custom-driver"></a><a aria-hidden="true" class="hash-link" href="#custom-driver">#</a>Custom driver</h2><p>If you want to use database that is not currently supported, you can implement your own driver.
More information about how to create one can be <a href="/docs/v3-new/docs/custom-driver">found here</a>. Then provide the
driver class via <code>driver</code> configuration option: </p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token maybe-class-name">MyCustomDriver</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;./MyCustomDriver.ts&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> orm </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> </span><span class="token maybe-class-name">MikroORM</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">init</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  entitiesDirs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;entities&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// relative to `baseDir`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  dbName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;my-db-name&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  driver</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">MyCustomDriver</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// provide the class, not just its name</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h2><a aria-hidden="true" class="anchor" id="schema"></a><a aria-hidden="true" class="hash-link" href="#schema">#</a>Schema</h2><p>Currently you will need to maintain the database schema yourself. For initial dump, you can
use <a href="/docs/v3-new/docs/schema-generator"><code>SchemaGenerator</code> helper</a>.  </p><h2><a aria-hidden="true" class="anchor" id="manytomany-collections-with-pivot-tables"></a><a aria-hidden="true" class="hash-link" href="#manytomany-collections-with-pivot-tables">#</a>ManyToMany collections with pivot tables</h2><p>As opposed to <code>MongoDriver</code>, in MySQL we use pivot tables to handle <code>ManyToMany</code> relations:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-sql codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">CREATE</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TABLE</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain">publisher_to_test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">11</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">unsigned</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">NULL</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AUTO_INCREMENT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain">publisher_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">11</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DEFAULT</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">NULL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain">test_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">11</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DEFAULT</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">NULL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">ENGINE</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token keyword" style="font-style:italic">InnoDB</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DEFAULT</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">CHARSET</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">utf8</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>You can adjust the name of pivot table via <code>pivotTable</code> option in <code>@ManyToMany</code> decorator
defined on owning side: </p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// for unidirectional</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">ManyToMany</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">entity</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> owner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> pivotTable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;publisher2test&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">tests </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Collection</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">Test</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// for bidirectional</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">ManyToMany</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">entity</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">BookTag</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> inversedBy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;books&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> pivotTable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;book2tag&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">tags </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Collection</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">BookTag</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h2><a aria-hidden="true" class="anchor" id="using-querybuilder-to-execute-native-sql-queries"></a><a aria-hidden="true" class="hash-link" href="#using-querybuilder-to-execute-native-sql-queries">#</a>Using QueryBuilder to execute native SQL queries</h2><p>When you need to execute some SQL query without all the ORM stuff involved, you can either
compose the query yourself, or use the <code>QueryBuilder</code> helper to construct the query for you:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> qb </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> orm</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">em</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">createQueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">Author</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">qb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">update</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;test 123&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">PublisherType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">GLOBAL</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">where</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">123</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">PublisherType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">LOCAL</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">qb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getQuery</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// &#x27;UPDATE `publisher2` SET `name` = ?, `type` = ? WHERE `id` = ? AND `type` = ?&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">qb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getParams</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// [&#x27;test 123&#x27;, PublisherType.GLOBAL, 123, PublisherType.LOCAL]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// run the query</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> res1 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> qb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">execute</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// or run query without using QueryBuilder</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> driver </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> orm</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">em</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getDriver</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> res2 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> driver</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">execute</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;SELECT ? + ?&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p><code>QueryBuilder</code> provides fluent interface with these methods:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">select</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">fields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> distinct</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">insert</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">update</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword" style="font-style:italic">delete</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">cond</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">count</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">fields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> distinct</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">join</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">field</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> alias</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">leftJoin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">field</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> alias</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">where</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">cond</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> operator</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;$and&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;$or&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">andWhere</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">cond</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">orWhere</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">cond</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">groupBy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">fields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">having</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">cond</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">populate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">populate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">limit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">limit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> offset</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">offset</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">offset</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getQuery</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getParams</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">clone</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">QueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>For more examples of how to work with <code>QueryBuilder</code>, take a look at <code>QueryBuilder</code> tests in
<a href="https://github.com/mikro-orm/mikro-orm/blob/master/tests/QueryBuilder.test.ts"><code>tests/QueryBuilder.test.ts</code></a>.</p><h2><a aria-hidden="true" class="anchor" id="transactions"></a><a aria-hidden="true" class="hash-link" href="#transactions">#</a>Transactions</h2><p>When you call <code>em.flush()</code>, all computed changes are queried <a href="/docs/v3-new/docs/unit-of-work">inside a database
transaction</a> by default, so you do not have to handle transactions manually. </p><p>When you need to explicitly handle the transaction, you can use <code>em.transactional(cb)</code>
to run callback in transaction. It will provide forked <code>EntityManager</code> as a parameter
with clear isolated identity map - please use that to make changes. </p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// if an error occurs inside the callback, all db queries from inside the callback will be rolled back</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> orm</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">em</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">transactional</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">em</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token parameter"> EntityManager</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> god </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Author</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;God&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;hello@heaven.god&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> em</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">persistAndFlush</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">god</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h2><a aria-hidden="true" class="anchor" id="like-queries"></a><a aria-hidden="true" class="hash-link" href="#like-queries">#</a>LIKE Queries</h2><p>SQL do support LIKE queries via native JS regular expressions:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> author1 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Author2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Author 1&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;a1@example.com&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> author2 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Author2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Author 2&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;a2@example.com&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> author3 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Author2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Author 3&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;a3@example.com&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> orm</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">em</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">persistAndFlush</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">author1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> author2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> author3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// finds authors with email like &#x27;%exa%le.c_m&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> authors </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> orm</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">em</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">find</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">Author2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> email</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token regex">/exa.*le\.c.m$/</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">authors</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// all 3 authors found</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h2><a aria-hidden="true" class="anchor" id="native-collection-methods"></a><a aria-hidden="true" class="hash-link" href="#native-collection-methods">#</a>Native Collection Methods</h2><p>Sometimes you need to perform some bulk operation, or you just want to populate your
database with initial fixtures. Using ORM for such operations can bring unnecessary
boilerplate code. In this case, you can use one of <code>nativeInsert/nativeUpdate/nativeDelete</code>
methods:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">em</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">nativeInsert</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token constant" style="color:rgb(130, 170, 255)">T</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">AnyEntity</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">entityName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">IPrimaryKey</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">em</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">nativeUpdate</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token constant" style="color:rgb(130, 170, 255)">T</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">AnyEntity</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">entityName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> where</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">FilterQuery</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token constant" style="color:rgb(130, 170, 255)">T</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token builtin" style="color:rgb(130, 170, 255)">number</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">em</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">nativeDelete</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token constant" style="color:rgb(130, 170, 255)">T</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">AnyEntity</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">entityName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> where</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">FilterQuery</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token constant" style="color:rgb(130, 170, 255)">T</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token builtin" style="color:rgb(130, 170, 255)">number</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>Those methods execute native SQL queries generated via <code>QueryBuilder</code> based on entity
metadata. Keep in mind that they do not hydrate results to entities, and they do not
trigger lifecycle hooks. </p><p>They are also available as <code>EntityRepository</code> shortcuts:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token maybe-class-name">EntityRepository</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">nativeInsert</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">IPrimaryKey</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">EntityRepository</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">nativeUpdate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">where</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">FilterQuery</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token constant" style="color:rgb(130, 170, 255)">T</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token builtin" style="color:rgb(130, 170, 255)">number</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">EntityRepository</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">nativeDelete</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">where</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">FilterQuery</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token constant" style="color:rgb(130, 170, 255)">T</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token builtin" style="color:rgb(130, 170, 255)">number</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>Additionally there is <code>execute()</code> method that supports executing raw SQL queries or <code>QueryBuilder</code>
instances. To create <code>QueryBuilder</code>, you can use <code>createQueryBuilder()</code> factory method on both
<code>EntityManager</code> and <code>EntityRepository</code> classes: </p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> qb </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> em</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">createQueryBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Author&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">qb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">select</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;*&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">where</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> $</span><span class="token keyword" style="font-style:italic">in</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> em</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getDriver</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">execute</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">qb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// unprocessed result of underlying database driver</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/mikro-orm/mikro-orm/edit/master/docs/usage-with-sql.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/v3-new/docs/read-connections"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« <!-- -->Read Replica Connections</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/v3-new/docs/usage-with-mongo"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">Usage with MongoDB<!-- --> »</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#custom-driver" class="contents__link">Custom driver</a></li><li><a href="#schema" class="contents__link">Schema</a></li><li><a href="#manytomany-collections-with-pivot-tables" class="contents__link">ManyToMany collections with pivot tables</a></li><li><a href="#using-querybuilder-to-execute-native-sql-queries" class="contents__link">Using QueryBuilder to execute native SQL queries</a></li><li><a href="#transactions" class="contents__link">Transactions</a></li><li><a href="#like-queries" class="contents__link">LIKE Queries</a></li><li><a href="#native-collection-methods" class="contents__link">Native Collection Methods</a></li></ul></div></div></div></div></div></div></main></div>
</div>

<script type="text/javascript" src="/docs/v3-new/runtime~main.00f02173622193e62e57.js"></script>

<script type="text/javascript" src="/docs/v3-new/main.26dd6f9550a16264f5a7.js"></script>

<script type="text/javascript" src="/docs/v3-new/0.97f9baf7477b81123570.js"></script>

<script type="text/javascript" src="/docs/v3-new/1.56479a3a61faa55d5f04.js"></script>

<script type="text/javascript" src="/docs/v3-new/component---theme-doc-page-1-be-9be.d3bc93f077e7a2f8d173.js"></script>

<script type="text/javascript" src="/docs/v3-new/docsMetadata---v-3-new-docs-988-80a.a30ed25232e4920e6fec.js"></script>

<script type="text/javascript" src="/docs/v3-new/component---theme-doc-item-178-a40.75f4842c571107d99831.js"></script>

<script type="text/javascript" src="/docs/v3-new/content---v-3-new-docs-usage-with-sql-815-a4d.c1cf51e51db141fc1536.js"></script>

<script type="text/javascript" src="/docs/v3-new/metadata---v-3-new-docs-usage-with-sqlcc-4-f9e.1b547ce607c21b164bff.js"></script>

</body>
</html>
